@model ParkAr.Models.Estacionamiento

@{
    ViewBag.Title = "Boxes";
    Layout = "~/Views/Shared/_LayoutAjaxResult.cshtml";
}

<script>
   function reservarBox(boxId){
            $.ajax({
                type: 'GET',
                url: '@Url.Action("ReservarBox")',
                data: { boxID: boxId, estacionamientoId: $('#EstacionamientoSelect').val() },
                success: function (result) { $('#container-boxes').html(result); },
                error: function () {
                    alert(xhr.status);
                    alert(thrownError);
                    alert(xhr.responseText);
                }
            });
        }

</script>
<h2>Boxes del Estacionamiento @Model.Nombre</h2>

@*
    <div id="container-boxes">

        <table class="table table-striped">
            <tdhead>
                <tr>
                    <th><font size="6" color="grey">Piso</font></th>
                    <th><font size="6" color="grey">Numero</font></th>
                </tr>
            </tdhead>
            <tbody>
                @foreach (var item in Model.Boxes)
                {
                    <tr>
                        <th>@item.Piso</th>
                        <th onclick="reservarBox(@item.BoxId)">@item.Numero</th>
                    </tr>

                }
            </tbody>


        </table>
*@
    
   @*
    <div class="container-fluid">
        <div class="row">
            @for (var i = 0; i < Model.Boxes.Count; i++)
            {
                if (i > 0 && i % 12 == 0)
                {
                    @:</div><div class="row">
                }
                <div class="col-lg-1">@Html.TextBoxFor(x => x.Boxes[i].Value)</div>
            }
        </div>

    </div>
    *@
    <div >
    @foreach (var item in @Model.Boxes)
    {

        <div  style="display:inline-block; background-color:dimgrey; border-color:azure; border-style:solid;
            border-width:thick; height:200px; width:104px; " onclick="reservarBox(@item.BoxId)" >
                @if (@item.EstadoBox.EstadoBoxId == 1)
                {
                    <h3 style="color:#2180ac">@item.Numero</h3>
                }
                @if (@item.EstadoBox.EstadoBoxId == 2)
                {
                    <h3 style="color:#cc0000">Ocup</h3>                   
                }
                @if (@item.EstadoBox.EstadoBoxId == 3)
                {
                    <h3 style="color:#cc0000">Ocup</h3>
                }
        </div>


    }
   
</div>



   





